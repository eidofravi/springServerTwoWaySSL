Its two way ssl, we will create following:
On Server side:
    1. create server key store
    2. Export certificate from key store for client
    3. create server trust store
    4. import client certificate to server's key store
    5. server configuration set up for certificates

On Client side:
    1. create client key store
    2. Export certificate from key store for server
    3. create client trust store
    4. import server certificate to client's key store
    5. client configuration set up for certificates

Details:
cd C:\Users\ravi123\IdeaProjects\springServerTwoWaySSL\certificates

On server side:
    1. create server key store
       keytool -genkey -keyalg RSA -alias raviServerPrivateKey -keystore raviServerkeystore.jks
       enter keystore password - raviServerKeyStorePwd
       enter private key password - raviServerPrivateKeyPwd

    2. Export certificate from key store for client
       keytool -export -alias raviServerPrivateKey -file exportedServerCertForClient.cer -keystore raviServerkeystore.jks

    Follow step 3 onwards, after client's step 2 is done
    3. create server trust store and import client certificate to server's key store
       keytool -import -alias raviServerPublicKey -file exportedClientCertForServer.cer -storetype JKS -keystore server.truststore
       enter keystore password - raviServerTrustStorePwd

    5. server configuration set up for certificates


On client side:
    1. create client key store
       keytool -genkey -keyalg RSA -alias raviClientPrivateKey -keystore raviClientkeystore.jks
       enter keystore password - raviClientKeyStorePwd
       enter private key password - raviClientPrivateKeyPwd

    2. Export certificate from key store for server
    keytool -export -alias raviClientPrivateKey -file exportedClientCertForServer.cer -keystore raviClientkeystore.jks

    Follow step 3 onwards, after server's step 2 is done
    3. create client trust store and import server certificate to client's key store
    keytool -import -alias raviClientPublicKey -file exportedServerCertForClient.cer -storetype JKS -keystore client.truststore
    enter keystore password - raviClientTrustStorePwd

    5. client configuration set up for certificates


One way ssl:
Client authenticates server with their certificates, if their certificates are singed by CA(certification
authority). Client authenticates server against its truststore, that contains the certificate imported from the server
before they actually start interaction with eachother.
Server will responds to any client which is requesting data and provide its certificate to client for validation.

Two way ssl:
client and server both authenticates each other by exchanging their certificate. Server will authenticate
client as well,
if a client is valid one. It will not respond to any client which is requesting for the data.
Here client also send the certificate to server, that server validates against it server truststore.


Demo project I have created, client access the server by passing it's own certificate to server to get authenticated.
Samething we can do from the browser. But we have to add client keystore first to chrome browser, so browser sends
the certificate to server to get authenticated.
Chrome browser can not import .jks entension of keystore. We need to convert keystore to pkcs format .p12 that is industry standard.

C:\Users\ravi123\IdeaProjects\springClientTwoWaySSL>keytool -importkeystore -srckeystore raviClientkeystore.jks -destkeystore clientkeystoreForBrowser.p12 -deststoretype pkcs12 -destkeyp
ass privateKeyPwdForBrowser
Importing keystore raviClientkeystore.jks to clientkeystoreForBrowser.p12...
Enter destination keystore password: keystorePwdForBrowser
Re-enter new password: keystorePwdForBrowser
Warning:  Different store and key passwords not supported for PKCS12 KeyStores. Ignoring user-specified -destkeypass value.
Enter source keystore password: raviClientKeyStorePwd
Enter key password for <raviclientprivatekey> : raviClientPrivateKeyPwd
Entry for alias raviclientprivatekey successfully imported.
Import command completed:  1 entries successfully imported, 0 entries failed or cancelled

clientkeystoreForBrowser.p12 is created under C:\Users\ravi123\IdeaProjects\springClientTwoWaySSL.
Now we need to import this in chrome. I have created a word doc to show screenshots.











